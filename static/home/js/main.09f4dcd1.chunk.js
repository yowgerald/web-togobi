(this["webpackJsonptogobi-content"]=this["webpackJsonptogobi-content"]||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n(19),c=n.n(s),r=(n(24),n(25),n(3)),i=n.n(r),l=n(8),o=n(4),u=n(5),d=n(7),j=n(6),h=n(9),p=n.n(h),b={url:{API_URL:""}},f="Image",O="Video",m=n(0),v=b.url.API_URL,x=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={files:[],next_page:null,prev_page:null},a}return Object(u.a)(n,[{key:"handleLoadNext",value:function(){this.getContentFiles(this.state.next_page)}},{key:"handleLoadPrevious",value:function(){this.getContentFiles(this.state.prev_page)}},{key:"getContentFiles",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n,a=this,s=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:1,n=this.props.content,t.next=4,p.a.get(v+"/contents/"+n+"/content_files",{params:{page:e}}).then((function(t){a.setState({files:t.data.result,next_page:t.data.next,prev_page:t.data.previous})})).catch((function(t){console.log(t)}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getContentFiles()}},{key:"render",value:function(){var t=this,e=this.state.files.length,n=e>1?"gallery":"",a=this.state.files.map((function(t,n){var a=n+1;return e<5&&(e%2===0&&e===a?a+=" item__stretch":3!==e||2!==a&&3!==a||(a+=" item__stretch--"+a)),[Object(m.jsx)("figure",{className:"gallery__item gallery__item--"+a,children:t.f_type===f?Object(m.jsx)("img",{className:"gallery__media",src:t.signed_url,alt:""},"src"+t.id):t.f_type===O?Object(m.jsx)("video",{className:"gallery__media",src:t.signed_url,alt:"",controls:!0},"src"+t.id):null},"gallery__item"+t.id)]}));return[Object(m.jsx)("section",{className:n,children:a},"gallery"),Object(m.jsx)("br",{},"gallery-load-break"),Object(m.jsxs)("div",{className:"items__page",children:[null!=this.state.prev_page?Object(m.jsx)("div",{onClick:function(){return t.handleLoadPrevious()},children:"Previous"},"load-previous"):null,null!=this.state.prev_page&&this.state.next_page?Object(m.jsx)("span",{children:"\xa0 \u2022 \xa0"}):null,null!=this.state.next_page?Object(m.jsx)("div",{onClick:function(){return t.handleLoadNext()},children:"Next"},"load-next"):null]},"items-page")]}}]),n}(a.Component),g=b.url.API_URL,y=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={contents_today:[]},t}return Object(u.a)(n,[{key:"getContentsToday",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n=this,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,t.next=3,p.a.get(g+"/contents/today",{params:{q:e}}).then((function(t){n.setState({contents_today:t.data})})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getContentsToday()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"row column",children:[Object(m.jsx)("p",{className:"lead",children:"TODAY"}),this.state.contents_today.length>0?this.state.contents_today.map((function(t){return Object(m.jsx)("p",{children:t.title},"title"+t.id)})):Object(m.jsx)("p",{children:"No items available yet."})]})}}]),n}(a.Component),_=b.url.API_URL,N=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={contents_top:[]},t}return Object(u.a)(n,[{key:"getContentsTop",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n=this,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,t.next=3,p.a.get(_+"/contents/top",{params:{q:e}}).then((function(t){n.setState({contents_top:t.data})})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getContentsTop()}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"row column",children:[Object(m.jsx)("p",{className:"lead",children:"TOP"}),this.state.contents_top.length>0?this.state.contents_top.map((function(t){return Object(m.jsx)("p",{children:t.title},"title"+t.id)})):Object(m.jsx)("p",{children:"No items available yet."})]})}}]),n}(a.Component),k=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"large-6 columns",children:Object(m.jsxs)("aside",{children:[Object(m.jsx)("br",{}),Object(m.jsx)(y,{}),Object(m.jsx)("hr",{}),Object(m.jsx)(N,{})]})})}}]),n}(a.Component),C=b.url.API_URL,w=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;return Object(o.a)(this,n),(t=e.call(this)).state={q:"",contents:[]},t}return Object(u.a)(n,[{key:"getContents",value:function(){var t=Object(l.a)(i.a.mark((function t(){var e,n=this,a=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,t.next=3,p.a.get(C+"/contents",{params:{q:e}}).then((function(t){n.setState({contents:t.data})})).catch((function(t){console.log(t)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"handleUpdateQuery",value:function(t){this.setState({q:t.target.value})}},{key:"handleSearch",value:function(t){this.getContents(t)}},{key:"componentDidMount",value:function(){this.getContents()}},{key:"render",value:function(){var t=this;return[Object(m.jsxs)("div",{className:"large-6 columns",children:[Object(m.jsx)("div",{className:"row column",children:Object(m.jsx)("h4",{className:"text-center",children:"LATEST"})}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"small-9 columns",children:Object(m.jsx)("input",{name:"q",type:"text",onChange:function(e){return t.handleUpdateQuery(e)}})}),Object(m.jsx)("div",{className:"small-3 columns",children:Object(m.jsx)("input",{type:"submit",className:"button expanded",defaultValue:"Search",onClick:function(){return t.handleSearch(t.state.q)}})})]}),Object(m.jsx)("a",{href:"/content/add",className:"button ffab",children:"Add Something"}),this.state.contents.map((function(t){return Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)(x,{content:t.id}),Object(m.jsxs)("div",{className:"card-section",children:[Object(m.jsx)("h4",{children:Object(m.jsx)("a",{href:"#",children:t.title})}),Object(m.jsxs)("p",{children:[Object(m.jsx)("span",{children:t.description}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:Object(m.jsxs)("i",{className:"fi-calendar",children:[t.target_date," \xa0\xa0"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:Object(m.jsxs)("i",{className:"fi-torso",children:[" By ",t.username,"\xa0\xa0"]})}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{children:Object(m.jsxs)("i",{className:"fi-comments",children:[t.total_attendees," attendees"]})})]}),Object(m.jsx)("a",{href:"#",className:"button small expanded",children:"Join"})]})]},t.id)}))]},"content-list"),Object(m.jsx)(k,{},"suggestion")]}}]),n}(a.Component);var L=function(){return Object(m.jsx)(w,{})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),c(t),r(t)}))};c.a.render(Object(m.jsx)(L,{}),document.getElementById("root")),P()}},[[46,1,2]]]);
//# sourceMappingURL=main.09f4dcd1.chunk.js.map